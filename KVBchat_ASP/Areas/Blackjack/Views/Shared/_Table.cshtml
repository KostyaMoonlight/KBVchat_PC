@model KVBchat_ASP.Areas.Blackjack.Models.BlackjackWithCurrentPlayerViewModel

<div>
    <div style="align-self:center;">
        Casino
        <div>
            Bat: @Model.BlackjackViewModel.Casino.Bet
        </div>
        <div>
            @if (Model.BlackjackViewModel.Casino.Cards != null)
            {
                @:Count of cards: @Model.BlackjackViewModel.Casino.Cards.Count




                @*foreach (var card in Model.BlackjackViewModel.Casino.Cards)
                    {
                        <div>
                            @card.Name - @card.Suit
                        </div>
                    }*@
            }
        </div>
    </div>

    Other players:
    <div>
        @foreach (var player in Model.BlackjackViewModel.Players)
        {
            <br />
            @player.Nickname
            <div>
                Bat: @player.Bet
            </div>
            <div>
                @{
                    if (player.Id == Model.CurrentUserId)
                    {
                        foreach (var card in player.Cards)
                        {
                            <div>
                                @card.Name - @card.Suit
                            </div>
                        }
                    }
                    else
                    {
                        @:Count of cards: @player.Cards.Count
                    }
                }
            </div>
        }
    </div>
</div>

@if ((Model.BlackjackViewModel.CurrentPlayer != -1) &&
    (Model.BlackjackViewModel.CurrentPlayerId == Model.CurrentUserId))
{
    <div>
        <span>
            @using (@Ajax.BeginForm("Double", "Blackjack", new { area = "Blackjack", id = Model.BlackjackViewModel.GameId }, new AjaxOptions
            {
                HttpMethod = "POST",
                OnSuccess = "Updater"
            }, null))
            {
                <input type="submit" value="Double" class="btn btn-success" />
            }
        </span>

        <span>
            @using (@Ajax.BeginForm("Hit", "Blackjack", new { area = "Blackjack", id = Model.BlackjackViewModel.GameId }, new AjaxOptions
            {
                HttpMethod = "POST",
                OnSuccess = "Updater"
            }, null))
            {
                <input type="submit" value="Hit" class="btn btn-primary" />
            }
        </span>

        <span>
            @using (@Ajax.BeginForm("Stand", "Blackjack", new { area = "Blackjack", id = Model.BlackjackViewModel.GameId }, new AjaxOptions
            {
                HttpMethod = "POST",
                OnSuccess = "Updater"
            }, null))
            {
                <input type="submit" value="Stand" class="btn btn-warning" />
            }
        </span>
    </div>
}
else
{
    <div> W8 u turn!</div>
}
@if (!string.IsNullOrEmpty(Model.BlackjackViewModel.Winners))
{
    <div>@Model.BlackjackViewModel.Winners</div>
}
else
{
    <div>Stil playing</div>
}

<div>
    @Html.BeginForm("ExitGame", "Blackjack", new { area = "Blackjack", id = Model.BlackjackViewModel.GameId })
    {
    <input type="submit" value="Exit game" class="btn btn-warning" />
    }
</div>
